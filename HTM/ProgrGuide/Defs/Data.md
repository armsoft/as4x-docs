---
layout: page
title: "Data նկարագրություն"
---

# Տվյալների աղբյուրի նկարագրություն/Описание источника данных

Համակարգում [փաստաթղթերը](doc.md) պահվում են թղթապանակների մեջ։ Թղթապանակների պարունակությունը ցուցադրելու համար տվյալների աղբյուրները օգտագործվում են իրենց սյունակներով եւ հարցումներով, սյուների պարունակությունը ստեղծելու համար։ Նկարագրության սկրիպտային բաժնում կարող են նկարագրվել ինչպես [համակարգային իրադարձությունների մշակիչներ](../scriptstproced.html), այնպես էլ օգտագործողի կողմից գրված պրոցեդուրաներ և ֆունկցիաներ։

Տվյալների աղբյուրը հետագայում հիմք ծառայում է բազմաթիվ [դիտելու ձևերի](View.md) կառուցման համար։


[Документы](doc.html) в системе хранятся в папках. Для отображения содержимого папок используются источники данных со своими колонками и запросами формирования содержимого колонок. В скриптовом разделе описания могут описываться как [обработчики системных событий](../scriptstproced.html), так и пользовательские функции и процедуры. Источник данных в дальнейшем служит базисом для построения многочисленных [видов просмотра](View.html).



## Շարահյուսություն

``` as4x
DATA {
    Name = sDataName;
    Caption = sDataCaption;
    ECaption = sDataECaption;
    SQL = sDataSQL;
    UpdateSQL = sDataUpdSQL;
    Indicate = nIndPresent;
    DefaultFunction = sFuncName;
    Version = nVersion;
    QueryTimeout = nQueryTimeout;
    ArrayBased = nArrayBased;
    ISN = nISN;
    DisableValidFunction = nValueDisable;

    'Column ...
    'Param ...

    Script {
        Subs and Functions
    };
};
```


[Տվյալների աղբյուրի սյունակների նկարագրություն/Описания колонок источника данных](../column.md)

[Տվյալների աղբյուրի SQL հարցման պարամետրեր/Параметры SQL запроса источника данных](../Param.html)

Բաղադրիչներն են՝
Синтаксис описания источника данных состоит из следующих частей:


| Պարամետր | Նկարագրություն |
|--|--|
| sDataName | Տվյալների աղբյուրի անվանում։ строковое выражение, определяющее идентификатор источника данных |
| sDataCaption | Տվյալների աղբյուրի անվանումը օտար լեզվով։ строковое выражение, определяющее наименование-заголовок источника данных |
| sDataECaption | Տվյալների աղբյուրի գլխագիրը օտար լեզվով։строковое выражение, определяющее наименование-заголовок источника данных на иностранном языке. |
| sDataSQL | Սահմանում է SQl հարցում աղյուսակից նշված տողեր ընտրելու համար։ Եթե այս պարամետրը բացակայում է և ArrayBased=0, ապա աշխատում է [SQL հարցման](../ScriptProcs/SQL.html) մշակիչը։ строковое выражение, определяющее SQL запрос для выборки определенных строк из таблицы. Если данный параметр опущен и ArrayBased=0, то выполняется обработчик [события SQL](../ScriptProcs/SQL.html). |
| sDataUpdSQL | Սահմանում է SQl հարցում աղյուսակից անհրաժեշտ տողեր ընտրելու համար, տողը ավելացնելուց, ջնջելուց կամ կարգաբերումից/շտկումից հետո։ Եթե այս պարամետրը բացակայում է և ArrayBased=0, ապա աշխատում է [SQL հարցման](../ScriptProcs/SQL.html) մշակիչը։строковое выражение, определяющее обновляющий SQL запрос для выборки нужных строк из таблицы, после добавления, удаления или корректировки строчки. Если данный параметр опущен ArrayBased=0, то выполняется обработчик [события SQL](../ScriptProcs/SQL.html). |
| nIndPresent | Տվյալների աղբյուրի կատարման ընթացքի [ցուցադրման ձևը](../Constants/const_opencursor_Indicate.md)։ |
| nVersion | Տվյալների աղբյուրի նկարագրության տարբերակի համար։ численное выражение целого типа, определяющее номер версии описания источника данных |
| nQueryTimeout | SQL հարցման ընթացքում սահմանում է սպասման ժամանակը վայրկյաններով։ Կարող է ընդունել 1 մինչև 3000 արժեք։ Եթե նշված պարամետրը բացակայում է , ապա սպասման ժամանակը 300 վայրկյան է։ необязательное численное выражение целого типа, определяющее время ожидания в секундах при выполнении SQL запроса. Может принимать значение от 1 до 3000. Если данный параметр опущен, то время ожидания - 300 секунд. |
| nArrayBased | Ցույց է տալիս, արդյոք տվյալների աղբյուրը հիմնված է SQL հարցման (ArrayBased=0) կամ XArrayDB (ArrayBased=1) օբյեկտի տիպի վրա։ 0 կամ 1 արժեք ընդունող։ Լռությամբ արժեքը 0 է։ Եթե արտահայտության արժեքը 1 է, ապա պարտադիր է մշակել [Load](../ScriptProcs/Load.html) իրադարձությունը։ необязательное числовое выражение, принимающее значения 1 или 0, определяющее является ли источник данных основанным на SQL запросе (ArrayBased=0) или на объекте типа XArrayDB (ArrayBased=1). По умолчанию принимает значение 0. Если значение выражения равно 1, то обязательно должно быть обработано событие [Load](../ScriptProcs/Load.html). |
| nISN | Փաստաթղթի ներքին նույնականացման համար։ Եթե այս հատկությունը առկա չէ, ապա այս սյունակի փոխարեն կրրառվում է Field հատկության արժեքով սյունակը, որը հավասար է fISN-ին необязательное строковое выражение, определяющее идентификатор колонки соответсвующий ISN документа. Если данное свойство опущено, то за колонку ISN принимается колонка со значением свойства 	Field равным fISN (если таковая кочно имеется). |
| nValueDisable | 1 արժեքի դեպքում թույլատրում է արգելափակել տվյալների աղբյուրի [Valid](../ScriptProcs/Valid_Data.html) իրադարձության կանչը։ необязательное числовое выражение. Значение 1 позволяет блокировать вызов события 	[Valid](../ScriptProcs/Valid_Data.html) источника данных. |
| sFuncName |  Լռությամբ աշխատող գործողության ներքին անուն։ Գործողությունը պետք է հասանելի լինի համատքեստի մենյուից։ Այն կարող է լինել ինչպես միջուկային (Դիտել, Խմբագրել...), այնպես էլ սկրիպտում գրանցված այլ գործողություն (`RegistrFunction ...`)։ Տես ստորև թույլատրելի արժեքները։ строковое выражение, определяющее имя контекстно-вызываемой процедуры при двойном щелчке мыши либо при нажатии клавиши Enter.|
| Subs and Functions | Նկարագրության սկրիպտային բաժին, որը կարող է պարունակել ինչպես [համակարգային իրադարձությունների մշակիչներ](../scriptstproced.html), այնպես էլ օգտագործողի կողմից գրված պրոցեդուրաներ և ֆունկցիաներ։ скриптовый раздел описания, который может содержать как [обработчики системных событий](../scriptstproced.html), так и пользовательские процедуры и функции |



## Հաստատուններ

Արժեքներն են՝ 


| Արժեք | Նկարագրություն |
|--|--|
| EDITITEM | Փաստաթուղթը բացում է խմբագրման ռեժիմում։документ вызывается в режиме корректировки |
| VIEWITEM | Փաստաթուղթը բացում է դիտման ռեժիմում։документ вызывается в режиме просмотра |
| DELETEITEM | 	Փաստաթուղթը ջնջում է։ документ вызывается для удаления |
| VISAITEM | документ вызывается для визирования |
| SECONDENTRYITEM | Փաստաթուղթը բացում է կրկնակի մուտքագրման ռեժիմում։документ вызывается для повторного ввода |
| Այլ արժեքներ | Կանչվում է օգտագործողի կողմից գրված այն ֆունկցիան, որը սահմանված է RegistrFunction-ի միջոցով։ вызывается пользовательская процедура, указанная как контекстно-вызываемая (т.е. указана в RegistrFunction). |



## Նկատառումներ

Պարամետրերը ծառայում են SQL հարցման մեջ փոխարինման համար։ Սակայն երբեմն տվյալների աղբյուրի պարամետրերի քանակը կարող է գերազանցել այն պարամետրերի քանակին, որոնք անհրաժեշտ են SQL հարցման մեջ փոխարինման համար։ 
Параметры служат для подстановки в SQL запрос. Но иногда число параметров в источнике данных может превышать число параметров, необходимых для подстановки в SQL запрос.

[См. также](../Defs.html)