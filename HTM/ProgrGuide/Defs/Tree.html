---
layout: page
title: "Tree Definition"
---





<p><strong>Описание дерева-справочника</strong></p>

<p>Описывается дерево-справочник. Оно может быть либо одноуровневым либо многоуровневым иерархическим. Дерево может содержать простые узлы, содержащие только код и наименование, узлы документов и конечные лепестки документы. </p>

<p>&nbsp;</p>

<p><b>Синтаксис</b></p>

<p><strong>TREE</strong> { <strong>Name</strong> = <em>
sTreeName</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Caption</strong> = <em>sTreeCaption</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ECaption</strong> = <em>sTreeECaption</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description</strong> = <em>sTreeDescription</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Type</strong> =<em> nType</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CodeLen</strong> = <em>nCodeLen</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UpperCase </strong> = <em>
nUpperCase</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowEdit</strong> = <em>nAllowEdit</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowView</strong> = <em>nAllowView</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowDelete</strong> =<em>
nAllowDelete</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowAddNode</strong> = <em>nAllowAddNode</em>;<strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowExport</strong> = <em>
nAllowExport</em>;<strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowHistory</strong> = <em>
nAllowHistory</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Doc</strong> { = <em>
sDocName1</em>;&nbsp; . . . . .; = <em>sDocNameN</em>; };<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DefaultFunction</strong> = <em>sFuncName</em>;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>&nbsp;&nbsp;&nbsp; SelectNonDoc</strong> = <em>nAllowSelectNonDoc</em><br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Version</strong> = <em>nVersion</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Script</strong> {<br>
<em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </em><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Subs and Functions</i></p>

<p><em>&nbsp;&nbsp;&nbsp; </em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }; <br>
<br>
</p>

<p>Синтаксис описания дерева-справочника состоит из следующих частей:</p>

<table border="1" cellPadding="5" cols="2" frame="below" rules="rows">
<TBODY>
  <tr>
    <td><b>Параметр</b></td>
    <td><strong>Описание</strong></td>
  </tr>
  <tr>
    <td><em>sTreeName</em></td>
    <td>строковое выражение, определяющее значение идентификатора дерева.</td>
  </tr>
  <tr>
    <td><em>sTreeCaption</em></td>
    <td>строковое выражение, определяющее заголовок дерева.</td>
  </tr>
  <tr>
    <td><em>sTreeECaption</em></td>
    <td>строковое выражение, определяющее заголовок дерева на иностранном языке.</td>
  </tr>
  <tr>
    <td><em>sTreeDescription</em></td>
    <td>строковое выражение, определяющее краткое описание дерева.</td>
  </tr>
  <tr>
    <td><em>nType</em></td>
    <td>численное выражение, определяющее тип дерева. Оно принимает значения: <br>
    1 - одноуровневый справочник или <br>
    2 - многоуровневое дерево-справочник</td>
  </tr>
  <tr>
    <td><em>nCodeLen</em></td>
    <td>численное выражение, определяющее длину кода дерева.</td>
  </tr>
  <tr>
    <td><em>nUpperCase</em></td>
    <td>необязательное численное выражение, принимающее значения 1 или 0, определяющее признак транслации строчных букв английского алфавита в заглавные в коде добавляемой ветви. По умолчанию - 0.</td>
  </tr>
  <tr>
    <td><em>nAllowEdit</em></td>
    <td>численное выражение, принимающее значения 1 или 0, <br>
    определяющее разрешение на корректировку узла дерева.</td>
  </tr>
  <tr>
    <td><em>nAllowView</em></td>
    <td>численное выражение, принимающее значения 1 или 0, <br>
    определяющее разрешение на просмотр узла дерева.</td>
  </tr>
  <tr>
    <td><em>nAllowDelete</em></td>
    <td>численное выражение, принимающее значения 1 или 0,<br>
    определяющее разрешение на удаление узла дерева.</td>
  </tr>
  <tr>
    <td><em>nAllowAddNode</em></td>
    <td>численное выражение, принимающее значения 1 или 0,<br>
    определяющее разрешение на добавление узла в дереве.</td>
  </tr>
  <tr>
    <td><em>nAllowExport</em></td>
    <td>численное выражение, принимающее значения 1 или 0,<br>
    определяющее разрешение на экспортирование узла дерева.</td>
  </tr>
  <tr>
    <td><em>nAllowHistory</em></td>
    <td>численное выражение, принимающее значения 1 или 0,<br>
    определяющее разрешение на просмотр истории документов узлов дерева. По умолчанию - 1.</td>
  </tr>
  <tr>
    <td><em>sDocName</em></td>
    <td>строковое выражение, определяющее идентификаторы <a href="doc.html">документов</a>, входящих в дерево справочник. Узлами и лепестками дерева могут быть различного рода документы, причем их чередование в иерархии дерева никак не определяется. Накладывается только следующее ограничение: к узлу-документу нельзя добавить бездокументный, группировочный, простой узел, к нему разрешается добавлять лишь документные узлы.&nbsp;Следует помнить: необходимым условием для возможности создания документа из дерева является наличие в АРМ-е дерева&nbsp; описанной ветви для создания данного документа.</td>
  </tr>
</TBODY>
    <tr>
    <td><em>nAllowSelectNonDoc</em></td>
    <td>численное выражение, принимающее значения 1 или 0,<br>
        определяющее разрешение на возможность выбора не документальных узлов из дерева-справочника.</td>
    </tr>
  <tr>
    <td><em>sFuncName</em></td>
    <td>строковое выражение, определяющее имя контекстно-вызываемой процедуры при двойном щелчке мыши либо при нажатии&nbsp;клавиши Enter.</td>
  </tr>
  <tr>
    <td><i>nVersion</i></td>
    <td>численное выражение целого типа, определяющее номер версии описания дерева.</td>
  </tr>
  <tr>
    <td><i>Subs and Functions</i></td>
    <td>скриптовый раздел описания, который может содержать как <a href="../scriptstproced.html">обработчики системных событий</a>, так и пользовательские процедуры и функции</td>
  </tr>
</table>

<p>&nbsp;</p>

<p><b>Установки</b></p>

<p>Установки для <em>sFuncName</em>
следующие:</p>

<table border="1" cellPadding="5" cols="2" frame="below" rules="rows">
<TBODY>
  <tr>
    <td><strong>Значение</strong></td>
    <td><strong>Описание</strong></td>
  </tr>
  <tr>
    <td>EDITITEM</td>
    <td>документ вызывается в режиме корректировки</td>
  </tr>
  <tr>
    <td>VIEWITEM</td>
    <td>документ вызывается в режиме просмотра</td>
  </tr>
  <tr>
    <td>DELETEITEM</td>
    <td>документ вызывается для удаления</td>
  </tr>
  <tr>
    <td>VISAITEM</td>
    <td>документ вызывается для визирования</td>
  </tr>
  <tr>
    <td>SECONDENTRYITEM</td>
    <td>документ вызывается для повторного ввода</td>
  </tr>
  <tr>
    <td>другое значение</td>
    <td>вызывается пользовательская процедура, указанная как контекстно-вызываемая (т.е. указана в RegistrFunction).</td>
  </tr>
</table>

<p>&nbsp;</p>

<p><b>Примечание</b></p>

<p><a href="../Defs.html">См. также</a></p>

<p>&nbsp;</p>

<p><strong>Пример описания древовидного справочника</strong></p>

<p>TREE {<br>
&nbsp;&nbsp;&nbsp;&nbsp; NAME = OtdEmpl;<br>
&nbsp;&nbsp;&nbsp;&nbsp; CAPTION = &quot;Справочник сотрудников&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp; DESCRIPTION = &quot;Справ-к сотрудников, по отделам&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp; TYPE = 2;<br>
&nbsp;&nbsp;&nbsp;&nbsp; CODELEN = 6;<br>
&nbsp;&nbsp;&nbsp;&nbsp; ALLOWEDIT = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp; ALLOWVIEW = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp; ALLOWDELETE = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp; ALLOWADDNODE = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp; DOC { = Employee; = Otdel; };<br>
&nbsp;&nbsp;&nbsp; };<br>
</p>


