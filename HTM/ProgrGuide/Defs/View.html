---
layout: page
title: "View Definition"
---
<style type="text/css">
.style1 {
	border-width: 0;
}
.style2 {
	border: 1px solid #C5C5C5;
}
.style3 {
	font-weight: bold;
	border: 1px solid #C5C5C5;
}
.style4 {
	border: 1px solid #C5C5C5;
}
.style5 {
	font-style: italic;
	border: 1px solid #C5C5C5;
}
    .style6 {
        font-style: normal;
    }
</style>





<p><strong>Описание вида просмотра</strong></p>

<p>Вид просмотра строится на основе <a href="Data.html">источника данных</a>, перечислением необходимых колонок и заданием дополнительных условий фильтрации строк. Один и тот же источник данных может иметь множество видов просмотра, предназначенных для различных пользователей и рабочих мест. Вид просмотра может состоять из строк, являющихся <a href="doc.html">документами</a>, или же являться бездокументной папкой-отчетом.</p>

<p>&nbsp;</p>

<p><b>Синтаксис</b></p>

<strong>VIEW</strong> {<strong>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name</strong> = <em>sViewName</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Caption</strong> = <em>sViewCaption</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ECaption</strong> = <em>sViewECaption</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DataSource</strong> = <em>sViewSource</em>;<br>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><strong>Group</strong> = <em>sGroup</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Condition</strong> = <em>sCondition</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowAddNew</strong> = <em>nAllowAddNew</em>;<strong><br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowAccess = </strong> <em>nAllowAccess</em><strong>;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowCopy = </strong> <em>nAllowCopy</em><strong>;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowDelete = </strong> <em>nAllowDelete</em><strong>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowEdit</strong> = <em>
nAllowEdit</em>;<br />
    <em>
    <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong> </em><strong>
    &nbsp;AllowEditUDR</strong><em>
    = nAllowEditUDR; 
    <br />
    <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong> </em><strong>&nbsp;AllowExport</strong><em>
    = nAllowExport;<br />
    <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span>&nbsp;AllowHistory</span> </strong> = nAllowHistory;<br />
    <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong> </em><strong>AllowPrintPreview</strong><em> = nAllowPrintPreview<strong>;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span>&nbsp;AllowSecondEntry</span> =
    </strong> nAllowSecondEntry<strong>;</strong></em><br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowView</strong> = <em>nAllowView</em>;<br>
    <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowViewDocChildren </strong> 
<em>= nAllowViewDocChildren</em><strong>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowViewDocParents
<em>= </em></strong> <em>nAllowViewDocParents;</em><br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowVisa</strong> = <em>nAllowVisa</em>;<em><br />
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong> 
    </em>
<strong>&nbsp; ColorColumn</strong><em>
= sColorColName;<br />
    </em><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DisableDocFunctions
<em>= </em></strong> <em>nDisableDocFunctions;<br />
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong> 
    </em>
<strong>DocBased</strong><em> = nDocBased;<br />
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong>
    </em>
<strong>HelpContext</strong><em>
= nHelpContext;<br />
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong> 
    </em>
<strong>&nbsp;ShowOnBottom</strong><em> = nShowOnBottom;<br />
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong> 
    </em>
<strong>SQLSort</strong><em> = nSortSource;<br />
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong> 
    </em>
<strong>Version</strong><em> = nVersion;<br />
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong>
    </em>
<strong>UnMoveColumnCount</strong><em>
= nUnMoveColCount;</em><strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UpdateStyle</strong> = <em>
nUpdateStyle</em>;<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UserDefined </strong> 
<em>= n</em><em>UserDefined;</em><strong><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</strong> 
<em>&nbsp;</em><a href="../viewcolumn.html"><em>{</em><span><em>Описания колонок вида просмотра</em></span>}<em>;</em></a><br>
<strong> 
<em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</em></strong><a href="../ViewParam.html"><em>{</em><span><em>Описания значений параметров вида просмотра</em></span>}<em>;</em></a><strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Doc</strong> { = <em>
sDocName</em>1; .....;&nbsp; = <em>sDocName</em>N; };<br>
<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Script</strong> {<br>
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong>
<i><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong> Subs and Functions</i><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br>


<p>СинтаСинтаксис описания вида просмотра состоит из следующих частей:</p>

<table cellPadding="5" cols="2" frame="below" rules="rows">
<TBODY>
  <tr>
    <td>&nbsp;</td>
    <td>Параметр</td>
    <td><strong>Описание</strong></td>
  </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif"></td>
    <td><em>sViewName</em></td>
    <td>строковое выражение, определяющее идентификатор вида просмотра</td>
  </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>sViewCaption</em></td>
    <td>строковое выражение, определяющее наименование вида просмотра</td>
  </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>sViewECaption</em></td>
    <td>строковое выражение, определяющее наименование вида просмотра на иностранном языке</td>
  </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>sViewSource</em></td>
    <td>строковое выражение, определяющее <a href="Data.html">источник данных</a> для данного вида<span> просмотра</span>.</td>
  </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td>

 <em>sGroup</em></td>
    <td>строковое выражение, определяющее <span>группу</span> данного вида<span> просмотра</span>.</td>
  </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>sCondition</em></td>
    <td>строковое выражение, определяющее условие выборки строк из источника данных. Данный параметр является условием фильтрации над произвольными колонками источника данных.</td>
  </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td> <em>nAllowAddNew</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на добавление нового документа. Не имеет смысла для бездокументных папок.</td>
  </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllowAccess</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на установку доступов на документы из вида просмотра. Не имеет смысла для бездокументных папок.</td>
    </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllowCopy</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на копирование документа, если соответствующие значения <em>nAllowEdit</em> или <em>nAllowView </em>будут равными 1. По умолчанию принимает значение 1.</td>
    </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllowDelete</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на удаление документа. Не имеет смысла для бездокументных папок.</td>
    </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllowEdit</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, <br>
    определяющее разрешение на корректировку документа. Не имеет смысла для бездокументных папок.</td>
  </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td>

 <em>
nAllowEditUDR</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на корректировку документа. </td>
    </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllowExpro<span>r</span>t</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на экспортирование документов из вида просмотра. 
        </td>
    </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllow</em><em>History</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на <span>просмотр лога документа</span>. </td>
    </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllow</em><em>PrintPreview</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на <span>просмотр внутренней печатной формы документа</span>. </td>
    </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllowSecondEntry</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на вторичный ввод документа через правую клавишу мыши. Не имеет смысла для бездокументных папок.</td>
    </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllowView</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, <br>
    определяющее разрешение на просмотр документа. Не имеет смысла для бездокументных папок.</td>
  </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllow</em><em>ViewDocChildren</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на<span> просмотр списка дочерних документов</span>. </td>
    </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllow</em><em>ViewDocParents</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на<span> просмотр списка родительских документов</span>. </td>
    </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nAllowVisa</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на визирование документа через правую клавишу мыши. Не имеет смысла для бездокументных папок.<span>Кроме того, чтобы визировать документ, нужно присутствие колонок</span> с идентификатором<span> fISN </span>и fFOLDERID <span>среди <a href="../column.html">колонок источника данных</a>, указанного в <em>sViewSource</em>
	    .</span></td>
  </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>sColorColName</em></td>
    <td>строковое выражение определяющее идентификатор цветоопределяющей колонки, содержащей 3-х символьную комбинацию значений для определения&nbsp; жирности, курсива, кода цвета строчки вида просмотра. 1-й символ значения определяет жирность (<strong>Bold</strong>) фонта значений в текущей строчке. 2-й символ определяет курсив (<em>Italic</em>). 3-й символ определяет код цвета и принимает значения от 1 до 5. Например, если для текущей строчки вида просмотра цветоопределяющая колонка содержит значение &quot;001&quot;, это значит нету жирности и курсива, и выбран цвет под номером 1 из настройки палитры системы (Ctrl+O). В источнике данных вида просмотра цветоопределяющая колонка должна быть объявлена перманентной, иметь тип C(3) и быть расчетной. Данное значение также влияет на цвет колонки в <a href="../Functions/AsModalBrowser.html">произвольном вспомогательном списке</a>.</td>
    </tr>
	<tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nDisableDocFunctions<br />
        </em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее разрешение на использование функций документа из вида просмотра.</td>
  </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nDocBased</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее oснованность папки на документах. Применяется когда в источнике данных существует колонка fISN (по которой надо организовать обн<span>о</span>вление), но она не соответствует некоторому документу в хранилище.</td>
    </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nHelpContext</em></td>
    <td>числовое выражение, определяющее идентификатор контекстной помощи.&nbsp;</td>
  </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nShowOnBottom</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, <br>
    определяющее признак установки маркера на последней строчке вида просмотра при ее активации.</td>
    </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nSortSource</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, устанавливающее источник сортировки колонок. Если установлено значение 1, тогда строчки в виде просмотра будут расположены в порядке полученном из источника данных и установки <strong>ORDER </strong>
	для колонки будут игнорированы. Если установлено значение 0, тогда колонки в виде просмотра будут отсортированы исходя из описания колонок вида просмотра. <a href="../Functions/ASVIEW/SQLSort.html">См.также</a></td>
  </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nVersion</em></td>
    <td>численное выражение целого типа, определяющее номер версии описания вида просмотра.</td>
  </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nUnMoveColCount</em></td>
    <td>числовое выражение, определяющее количество неподвижных колонок в виде просмотра. Отсчет неподвижных колонок производится в соответствии с порядком описания колонок в виде просмотра.</td>
  </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>nUpdateStyle</em></td>
    <td>численное выражение, принимающее значения 1 или 0,<br>
    определяющее стиль обновления при редактировании документа из вида просмотра(по ISN-у документа или общее обновление вида просмотра).</td>
    </tr>
    <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>

nUserDefined</em></td>
    <td>числовое выражение, принимающее значения 1 или 0, определяющее <span>является ли вид просмора пользовательским</span>. <span>Пользовательские виды просмотра разрешается редактировать</span>.</td>
    </tr>
  <tr>
    <td>
	<img src="../../../IMAGES/pubfield.gif">&nbsp;</td>
    <td><em>sDocName</em></td>
    <td>строковое выражение, в котором перечислены&nbsp; идентификаторы тех <a href="doc.html">документов</a>, которые можно добавлять из данного вида просмотра. Следует помнить, что необходимым условием для возможности создания документа из вида просмотра является наличие в АРМ-е вида просмотра описанной ветви для создания данного документа.</td>
  </tr>
	<tr>
    <td>
	<img src="../../../IMAGES/pubmethod.gif" height="11"></td>
    <td>Subs and Functions</td>
    <td>скриптовый раздел описания, который <span>содержит </span>пользовательские процедуры и функции<span>.</span></td>
  </tr>
</TBODY>
</table>

<p>&nbsp;</p>

<p><b>Примечаниеt></b></p>

<p>Функция создания копии документа не срабатывает для тех типов документов, которые не перечислены в данном виде просмотра.</p>

<p><a href="../Defs.html">См. также</a></p>


