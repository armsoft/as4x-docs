---
layout: page
title: "Конфигурационный файл (config.as)" 
---

# Конфигурационный файл (config.as)
Файл конфигурации предназначен для настройки приложений платформы AS-3X, а именно клиента AS-3X (asbank.exe, 
asbux.exe и т.д.), конфигураторa системы (syscon.exe), редактора сценариев (scriped.exe) и загрузчика новых версий (launcher.exe). Файл состоит из нескольких разделов.

## Раздел Common
предназначен для описания баз данных AS-3X.

## Синтаксис
``` as4x
Common {
    Description = sDescription;
    Language = nLanguage;
    Authentication = sAuthentication;
    UseWindowsDefaultPrinter = nUseWindowsDefaultPrinter;
    USETESTB2B = nUseTestB2B;

    Config {
        Name = sConfigName1;
        Server = sServer1; 
        Database = sDatabase1;
        BaseFolder = sBaseFolder1;
        BackupFolder = sBackupFolder1;
        SS = sSourceConnected1;
        Context = sContext1;
        StorePrnSet = sStorePrinterSetting1;
        ReadOnly = sReadonly1;
    };
    .....
    Config {
        Name = sConfigNameN;
        Server = sServerN; 
        Database = sDatabaseN;
        BaseFolder = sBaseFolderN;
        BackupFolder = sBackupFolderN;
        SS = sSourceConnectedN;
        Context = sContextN;
        StorePrnSet = sStorePrinterSettingN;
        ReadOnly = sReadonlyN;
    };
};
```

Раздел **Common** состоит из следующих частей:

|Параметр|Описание|
|--|--|
|*sConfigName*|строковое выражение, описывающее конфигурацию|
|*sServer*|строковое выражение, задающее SQL сервер|
|*sDatabase*|строковое выражение, задающее базу данных на сервере|
|*sBaseFolder*|строковое выражение, задающее относительный путь к каталогу, где расположены системные описания. Параметр используется конфигуратором системы и редактором сценариев|
|*sBackupFolder*|строковое выражение, задающее путь к каталогу (shared path), где расположены резервные копии базы данных. Параметр используется конфигуратором системы и клиентом AS-3X для задач управления резервными копиями.|
|*sSourceConnected*|строковое выражение, задающее связь с Team Foundation Server. Возможны значения "YES" и "NO", по умолчанию "NO". Параметр используется редактором сценариев, при значении "YES" параметр *sBaseFolder* должен быть определен|
|*sContext*|строковое выражение, задающее контекст приложения. Возможны следующие значения "ASBANK", "ASENTERPRISE", "ASWAGES", "ASMOBILETRADE". Параметр используется редактором сценариев для организации корректной контекстной помощи|
|*sStorePrinterSetting*|числовое выражение, задающее раздел реестра для сохранения установок принтера. При значении 1 - HKEY_CURRENT_USER , а при остальных значениях - HKEY_LOCAL_MACHINE.|
|*sReadOnly*|числовое выражение, задающее режим работы с базой данных. При значении 1 - подключение к базе данных осуществляется в режиме "только для чтения", а при остальных значениях - в режиме "чтения/запись". В режиме "только для чтения" для входа в систему нету необходимости прoизводить синхронизацию пользователей с системной таблицей syslogins, это крайне удобно в случае работы с реплицированной базой данных.|
|*nLanguage*|числовое выражение, задающее язык системы. Возможны следующие значения 1 - Армянский, 3 - Английский. Значение параметра для клиента AS-3X в дальнейшем переопределяется настройкой пользователя|
|*sDescription*|строковое выражение, описание раздела|
|*sAuthentication*|строковое выражение, определяющее режим аутентификации приложения. Если значение данного параметра равно "Windows", тогда доступ к системе происходит по Windows-логину пользователя, в прoтивном случае - по логину SQL Server-а. Все пользователи системы должны работать по единой схеме аутентификации.|
|*nUseWindowsDefaultPrinter*|числовое выражение, задающее режим работы с принтером. При значении 0 - принтер, на котором нужно печатать, можно выбрать из настроек программы, а при остальных значениях используется windows default принтер. По умолчанию принимает значение 0.|
|*nUseTestB2B*|числовое выражение, определяющее адресс b2b сервера. При значение 1 задается адресс теставого сервера. По умолчанию задается адресс реального сервера.|

## Отделение BaseFolder
Для работы с большим количеством проектов и баз данных дана возможность отделения BaseFolder-ов от конфигураций баз данных.
При отделении конфигуратор системы(SysCon.exe) и редактор сценариев(Scriped.exe) работают уже с отделёнными BaseFolder-ми.

## Синтаксис
``` as4x
Common {
    ...
    BaseFolder {
        Path = sBaseFolder1;
        SS = sSourceConnected1;
        Context = sContext1;
    };
    .....
    BaseFolder {
        Path = sBaseFolderN;
        SS = sSourceConnectedN;
        Context = sContextN;
    };
};
```

Параметры те же самые, что и в конфигурациях

## Раздел Launcher
предназначен для описания 
файлов, обновление которых может быть произведено с сервера базы данных. 
Данный раздел используется конфигуратором системы и загрузчиком новых версий.

## Синтаксис
``` as4x
Launcher {
    Description = sDescription;
    Server = sServer;
    Database = sDataBase;
    Update { Name = sFileName1; [="SELFREG";] };
    . . . . .
    Update { Name = sFileNameM; [="SELFREG";] };
};
```

Раздел **Launcher** состоит из следующих частей:

|Параметр|Описание|
|--|--|
|*sServer*|строковое выражение, задающее SQL сервер|
|*sDataBase*|строковое выражение, задающее базу данных на сервере. При отсутствии используется первая база данных в кофигурациях с заданного сервера.|
|*sFileName*|строковое выражение, задающее относительный путь к файлу|
|*sBaseFolder*|строковое выражение, задающее относительный путь к каталогу, где расположены системные описания. Параметр используется конфигуратором системы и редактором сценариев|
|"SELFREG"|необязательное поле, задаваемое при необходимости регистрации обновленного файла, используется для регистрации OLE серверов.|

**Примечание.** Если для файла невозможно 
определить версию возможностями операционной системы, то используется файл с расширением .ver и тем же именем. Например, для файла **asolap.xla** файл **asolap.ver** может иметь следующее содержание:

    1.2.1.30
    Armenian Software
    AS3XX Kernel with Bank extension
    Copyright . 1997-2000, Armenian Software, Ltd.

## Раздел Scriped
предназначен для задания конфигурации редактора сценариев.

## Синтаксис
``` as4x
Scriped {
    TFS = sTfsUrl;
};
```
    
Раздел **Scriped** состоит из следующих частей:

|Параметр|Описание|
|--|--|
|*sTfsUrl*|строковое выражение, задающее web адресс репозитария в Team Foundation Server|

#### Примечание

См. также

[Глобальный конфигурационный файл](GlobalConfig.md)